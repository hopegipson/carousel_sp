{"version":3,"sources":["main.js"],"names":["$menu","document","querySelector","$items","querySelectorAll","$images","menuWidth","clientWidth","itemWidth","wrapWidth","length","scrollSpeed","oldScrollY","scrollY","y","lerp","v0","v1","t","dispose","scroll","gsap","set","x","i","modifiers","target","s","utils","wrap","parseInt","handleMouseWheel","e","deltaY","touchStart","touchX","isDragging","handleTouchStart","clientX","touches","handleTouchMove","handleTouchEnd","handleHoverEventcard","card","path","image","getElementsByTagName","console","log","children","child","childimage","style","opacity","p","createElement","handleLeaveEventcard","addEventListener","forEach","item","window","render","requestAnimationFrame","to","scale","Math","min","abs"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"../src","sourcesContent":["\nconst $menu = document.querySelector('.menu')\nconst $items = document.querySelectorAll('.menu--item')\nconst $images = document.querySelectorAll('.menu--item img')\nlet menuWidth = $menu.clientWidth\nlet itemWidth = $items[0].clientWidth\nlet wrapWidth = $items.length * itemWidth\n\nlet scrollSpeed = 0\nlet oldScrollY = 0\nlet scrollY = 0\nlet y = 0\n\n\n/*--------------------\nLerp\n--------------------*/\nconst lerp = (v0, v1, t) => {\n  return v0 * ( 1 - t ) + v1 * t\n}\n\n\n/*--------------------\nDispose\n--------------------*/\nconst dispose = (scroll) => {\n  gsap.set($items, {\n    x: (i) => {\n      return i * itemWidth + scroll\n    },\n    modifiers: {\n      x: (x, target) => {\n        const s = gsap.utils.wrap(-itemWidth, wrapWidth - itemWidth, parseInt(x))\n        return `${s}px`\n      }\n    }\n  })\n} \ndispose(0)\n\n\n/*--------------------\nWheel\n--------------------*/\nconst handleMouseWheel = (e) => {\n  scrollY -= e.deltaY * 0.9\n}\n\n\n/*--------------------\nTouch\n--------------------*/\nlet touchStart = 0\nlet touchX = 0\nlet isDragging = false\nconst handleTouchStart = (e) => {\n  touchStart = e.clientX || e.touches[0].clientX\n  isDragging = true\n //$menu.classList.add('is-dragging')\n}\nconst handleTouchMove = (e) => {\n  if (!isDragging) return\n  touchX = e.clientX || e.touches[0].clientX\n  scrollY += (touchX - touchStart) * 2.5\n  touchStart = touchX\n}\nconst handleTouchEnd = () => {\n  isDragging = false\n}\n\nconst handleHoverEventcard = (e) => {\n  var card = e.path[0]\n  //var quote = card.getElementsByClassName('quote')[0]\n  var image = card.getElementsByTagName('img')[0]\n\n  console.log(card)\n\n  for (child of e.path[1].children) {\n    var childimage = child.getElementsByTagName('img')[0]\n    //var childquote = child.getElementsByClassName('quote')[0]\n   // childquote.classList.add(\"hidden\")\n    childimage.style.opacity = 1\n  }\n  image.style.opacity = 0.3\n  let p = document.createElement('p')\n // quote.classList.remove(\"hidden\")\n}\n\nconst handleLeaveEventcard = (e) => {\n\n  for (child of e.path[1].children) {\n    var childimage = child.getElementsByTagName('img')[0]\n  //  var childquote = child.getElementsByClassName('quote')[0]\n   // childquote.classList.add(\"hidden\")\n    childimage.style.opacity = 1\n  }\n  }\n\n\n/*--------------------\nListeners\n--------------------*/\n$menu.addEventListener('mousewheel', handleMouseWheel)\n\n$menu.addEventListener('touchstart', handleTouchStart)\n$menu.addEventListener('touchmove', handleTouchMove)\n$menu.addEventListener('touchend', handleTouchEnd)\n\n$menu.addEventListener('mousedown', handleTouchStart)\n$menu.addEventListener('mousemove', handleTouchMove)\n$menu.addEventListener('mouseleave', handleTouchEnd)\n$menu.addEventListener('mouseup', handleTouchEnd)\n\n\n$items.forEach(function(item){\n  item.addEventListener('mouseover', handleHoverEventcard)\n}\n)\n\n$items.forEach(function(item){\n  item.addEventListener('mouseleave', handleLeaveEventcard)\n}\n)\n\n\n\n$menu.addEventListener('selectstart', () => { return false })\n\n\n/*--------------------\nResize\n--------------------*/\nwindow.addEventListener('resize', () => {\n  menuWidth = $menu.clientWidth\n  itemWidth = $items[0].clientWidth\n  wrapWidth = $items.length * itemWidth\n})\n\n\n/*--------------------\nRender\n--------------------*/\nconst render = () => {\n  requestAnimationFrame(render)\n  y = lerp(y, scrollY, .1)\n  dispose(y)\n  \n  scrollSpeed = y - oldScrollY\n  oldScrollY = y\n  \n  gsap.to($items, {\n    //skewX: -scrollSpeed * .2,\n   // rotate: scrollSpeed * .01,\n    scale: 1 - Math.min(100, Math.abs(scrollSpeed)) * 0.003\n  })\n}\nrender()\n"]}