{"version":3,"sources":["main.js"],"names":["$menu","document","querySelector","$items","querySelectorAll","$images","$buttons","menuWidth","clientWidth","itemWidth","wrapWidth","length","scrollSpeed","oldScrollY","scrollY","y","lerp","v0","v1","t","dispose","scroll","gsap","set","x","i","modifiers","target","s","utils","wrap","parseInt","handleMouseWheel","e","deltaY","touchStart","touchX","isDragging","handleTouchStart","clientX","touches","handleTouchMove","handleTouchEnd","handleHoverEventcard","card","path","quote","getElementsByClassName","image","getElementsByTagName","logo","button","children","child","childimage","childquote","childlogo","childbutton","classList","add","remove","style","opacity","p","createElement","handleLeaveEventcard","handleTicketClick","preventDefault","console","log","addEventListener","forEach","item","window","render","requestAnimationFrame","to","scale","Math","min","abs"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"../src","sourcesContent":["\nconst $menu = document.querySelector('.menu')\nconst $items = document.querySelectorAll('.menu--item')\nconst $images = document.querySelectorAll('.menu--item img')\nconst $buttons = document.querySelectorAll('.menu--item button')\n\nlet menuWidth = $menu.clientWidth\nlet itemWidth = $items[0].clientWidth\nlet wrapWidth = $items.length * itemWidth\n\nlet scrollSpeed = 0\nlet oldScrollY = 0\nlet scrollY = 0\nlet y = 0\n\n\n/*--------------------\nLerp\n--------------------*/\nconst lerp = (v0, v1, t) => {\n  return v0 * ( 1 - t ) + v1 * t\n}\n\n\n/*--------------------\nDispose\n--------------------*/\nconst dispose = (scroll) => {\n  gsap.set($items, {\n    x: (i) => {\n      return i * itemWidth + scroll\n    },\n    modifiers: {\n      x: (x, target) => {\n        const s = gsap.utils.wrap(-itemWidth, wrapWidth - itemWidth, parseInt(x))\n        return `${s}px`\n      }\n    }\n  })\n} \ndispose(0)\n\n\n/*--------------------\nWheel\n--------------------*/\nconst handleMouseWheel = (e) => {\n  scrollY -= e.deltaY * 0.9\n}\n\n\n/*--------------------\nTouch\n--------------------*/\nlet touchStart = 0\nlet touchX = 0\nlet isDragging = false\nconst handleTouchStart = (e) => {\n  touchStart = e.clientX || e.touches[0].clientX\n  isDragging = true\n //$menu.classList.add('is-dragging')\n}\nconst handleTouchMove = (e) => {\n  if (!isDragging) return\n  touchX = e.clientX || e.touches[0].clientX\n  scrollY += (touchX - touchStart) * 2.5\n  touchStart = touchX\n}\nconst handleTouchEnd = () => {\n  isDragging = false\n}\n\nconst handleHoverEventcard = (e) => {\n  var card = e.path[0]\n  var quote = card.getElementsByClassName('quote')[0]\n  var image = card.getElementsByTagName('img')[0]\n  var logo = card.getElementsByClassName('logo')[0]\n  var button = card.getElementsByTagName('button')[0]\n\n\n\n  for (child of e.path[1].children) {\n    var childimage = child.getElementsByTagName('img')[0]\n    var childquote = child.getElementsByClassName('quote')[0]\n    var childlogo = child.getElementsByClassName('logo logomoved')[0]\n    var childbutton = child.getElementsByTagName('button')[0]\n\n   childquote.classList.add(\"hidden\")\n   childbutton.classList.add(\"hidden\")\n\n   if (childlogo){\n   childlogo.classList.remove(\"logomoved\")\n   }\n    childimage.style.opacity = 1\n  }\n  image.style.opacity = 0.3\n  let p = document.createElement('p')\n  quote.classList.remove(\"hidden\")\n  button.classList.remove(\"hidden\")\n  logo.classList.add(\"logomoved\")\n}\n\nconst handleLeaveEventcard = (e) => {\n\n  for (child of e.path[1].children) {\n    var childimage = child.getElementsByTagName('img')[0]\n    var childquote = child.getElementsByClassName('quote')[0]\n    var childbutton = child.getElementsByTagName('button')[0]\n\n    var logo = child.getElementsByClassName('logo')[0]\n    childquote.classList.add(\"hidden\")\n    childbutton.classList.add(\"hidden\")\n\n    logo.classList.remove(\"logomoved\")\n\n\n    childimage.style.opacity = 1\n  }\n  }\n\n  const handleTicketClick = (e) => {\n    e.preventDefault();\n    console.log(e)\n\n    // for (child of e.path[1].children) {\n    //   var childimage = child.getElementsByTagName('img')[0]\n    //   var childquote = child.getElementsByClassName('quote')[0]\n    //   var logo = child.getElementsByClassName('logo')[0]\n    //   childquote.classList.add(\"hidden\")\n    //   logo.classList.remove(\"logomoved\")\n  \n  \n    //   childimage.style.opacity = 1\n    \n    }\n\n\n/*--------------------\nListeners\n--------------------*/\n$menu.addEventListener('mousewheel', handleMouseWheel)\n\n$menu.addEventListener('touchstart', handleTouchStart)\n$menu.addEventListener('touchmove', handleTouchMove)\n$menu.addEventListener('touchend', handleTouchEnd)\n\n$menu.addEventListener('mousedown', handleTouchStart)\n$menu.addEventListener('mousemove', handleTouchMove)\n$menu.addEventListener('mouseleave', handleTouchEnd)\n$menu.addEventListener('mouseup', handleTouchEnd)\n\n\n$items.forEach(function(item){\n  item.addEventListener('mouseover', handleHoverEventcard)\n}\n)\n\n$items.forEach(function(item){\n  item.addEventListener('mouseleave', handleLeaveEventcard)\n}\n)\n\n\n$buttons.forEach(function(item){\n  item.addEventListener('click', handleTicketClick)\n}\n)\n\n\n$menu.addEventListener('selectstart', () => { return false })\n\n\n/*--------------------\nResize\n--------------------*/\nwindow.addEventListener('resize', () => {\n  menuWidth = $menu.clientWidth\n  itemWidth = $items[0].clientWidth\n  wrapWidth = $items.length * itemWidth\n})\n\n\n/*--------------------\nRender\n--------------------*/\nconst render = () => {\n  requestAnimationFrame(render)\n  y = lerp(y, scrollY, .1)\n  dispose(y)\n  \n  scrollSpeed = y - oldScrollY\n  oldScrollY = y\n  \n  gsap.to($items, {\n    //skewX: -scrollSpeed * .2,\n   // rotate: scrollSpeed * .01,\n    scale: 1 - Math.min(100, Math.abs(scrollSpeed)) * 0.003\n  })\n}\nrender()\n"]}